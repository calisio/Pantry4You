{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { AddManually } from \"./PantryComponents/AddManually\";\nimport React, { useState, useEffect } from 'react';\nimport { db } from \"../../firebase\";\nimport { EditQuantity } from \"./PantryComponents/EditQuantity\";\nimport { setDefaultEventParameters } from 'firebase/analytics';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Pantry = function Pantry(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var uid = route.params.uid;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isVisible = _useState2[0],\n    setFormVisibility = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pantryList = _useState4[0],\n    setPantryList = _useState4[1];\n  var collectionString = \"users/\" + uid + \"/pantry\";\n  var pantryRef = db.collection(collectionString);\n  var getPantryList = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var newPantryList = [];\n      var tempDoc;\n      yield pantryRef.get().then(function (querySnapshot) {\n        tempDoc = querySnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n      });\n      for (var i = 0; i < tempDoc.length; i++) {\n        var item = Object.values(tempDoc[i])[0];\n        var qty = Object.values(tempDoc[i])[1];\n        var unit = Object.keys(tempDoc[i])[1];\n        var newListEntry = [item, qty, unit];\n        newPantryList.push(newListEntry);\n      }\n      setPantryList(newPantryList);\n    });\n    return function getPantryList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getPantryList();\n  }, []);\n  var dismissKeyboard = function dismissKeyboard() {\n    Keyboard.dismiss();\n  };\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: dismissKeyboard,\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Pressable, {\n        style: styles.button,\n        onPress: function onPress() {\n          return setFormVisibility(!isVisible);\n        },\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"Add Items Manually\"\n        })\n      }), isVisible ? _jsx(AddManually, {\n        style: styles.addManually,\n        updateFunction: getPantryList\n      }) : null, _jsx(View, {\n        style: styles.listContainer,\n        children: pantryList.map(function (item) {\n          return _jsxs(Text, {\n            children: [item[0], \": \", item[1], \" \", item[2], \" \", \"\\n\", \" \", _jsx(EditQuantity, {\n              item: item,\n              updateFunction: getPantryList\n            })]\n          }, item);\n        })\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  listContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: '10%'\n  },\n  button: {\n    backgroundColor: '#CCCCCC',\n    borderRadius: 8,\n    padding: 10,\n    width: '40%',\n    marginBottom: '10%'\n  },\n  text: {\n    alignSelf: 'center'\n  }\n});\nexport { Pantry };","map":{"version":3,"names":["AddManually","React","useState","useEffect","db","EditQuantity","setDefaultEventParameters","Pantry","navigation","route","uid","params","isVisible","setFormVisibility","pantryList","setPantryList","collectionString","pantryRef","collection","getPantryList","newPantryList","tempDoc","get","then","querySnapshot","docs","map","doc","id","data","i","length","item","Object","values","qty","unit","keys","newListEntry","push","dismissKeyboard","Keyboard","dismiss","styles","container","button","text","addManually","listContainer","StyleSheet","create","flex","alignItems","flexDirection","flexWrap","marginTop","backgroundColor","borderRadius","padding","width","marginBottom","alignSelf"],"sources":["/Users/davidmutascio/Desktop/Senior/437/cse437project/Pages/Pantry/Pantry.js"],"sourcesContent":["import { StyleSheet, Text, View, Button, Alert, TextInput, Keyboard, TouchableWithoutFeedback, Pressable } from 'react-native';\nimport { AddManually } from './PantryComponents/AddManually';\nimport React, {useState, useEffect} from 'react';\nimport { db } from '../../firebase';\nimport { EditQuantity } from './PantryComponents/EditQuantity';\nimport { setDefaultEventParameters } from 'firebase/analytics';\n\nconst Pantry = ({navigation, route}) => {\n  const uid = route.params.uid;\n  const [isVisible, setFormVisibility] = useState(false);\n  const [pantryList, setPantryList] = useState([]);\n\n  let collectionString = \"users/\" + uid + \"/pantry\";\n  let pantryRef = db.collection(collectionString);\n  \n  //https://dev.to/gautemeekolsen/til-firestore-get-collection-with-async-await-a5l\n  const getPantryList = async() => {\n\n    let newPantryList = [];\n    let tempDoc;\n\n    await pantryRef.get().then((querySnapshot) => {\n      tempDoc = querySnapshot.docs.map((doc) => {\n        return { id: doc.id, ...doc.data()}\n      })\n    })\n\n    for(let i=0; i < tempDoc.length; i++){\n      let item = Object.values(tempDoc[i])[0];\n      let qty = Object.values(tempDoc[i])[1];\n      let unit = Object.keys(tempDoc[i])[1];\n      let newListEntry = [item, qty, unit];\n      newPantryList.push(newListEntry);\n    }\n    setPantryList(newPantryList);\n  }\n\n  useEffect(() => {\n    getPantryList()\n  }, []);\n\n  const dismissKeyboard = () => {\n    Keyboard.dismiss();\n  };\n\n    return (\n      <TouchableWithoutFeedback onPress={dismissKeyboard}>\n        <View style={styles.container}>\n          {/* <Button\n            title=\"Scan Receipt\"\n            onPress={openScanner}\n          /> */}\n          <Pressable\n            style={styles.button}\n            onPress={() => setFormVisibility(!isVisible)}\n          >\n            <Text style={styles.text}>Add Items Manually</Text>\n          </Pressable>\n          {isVisible ? <AddManually style={styles.addManually} updateFunction={getPantryList}></AddManually>: null}\n\n          <View style={styles.listContainer}>\n              {pantryList.map((item) => (\n                <Text key={item}>{item[0]}: {item[1]} {item[2]} {\"\\n\"} <EditQuantity item={item} updateFunction={getPantryList}></EditQuantity></Text>\n              ))}\n          </View>\n        </View>\n      </TouchableWithoutFeedback>\n\n    );\n};\n/*\nconst openScanner = () =>\n    Alert.alert('Scan Receipt', 'implement later', [\n      {\n        text: 'Scan',\n        onPress: () => console.log('Scan Pressed'),\n        style: 'cancel',\n      },\n      {text: 'Cancel', onPress: () => console.log('Cancel Pressed')},\n    ]);\n\n*/\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    //justifyContent: 'center',\n  },\n  listContainer: {\n    flexDirection:'row',\n    flexWrap:'wrap',\n    marginTop: '10%',\n  },\n  button: {\n    backgroundColor: '#CCCCCC',\n    borderRadius: 8,\n    padding: 10,\n    width: '40%',\n    marginBottom: '10%'\n  },\n  text: {\n    alignSelf: 'center',\n  }\n\n});\n\nexport {Pantry};"],"mappings":"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"},"metadata":{},"sourceType":"module"}