{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport GetRecipesIds from \"./GetRecipesIds\";\nimport React, { useState, useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Home = function Home(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var uid = route.params.uid;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    recipeList = _useState2[0],\n    setRecipeList = _useState2[1];\n  useEffect(function () {\n    function fetchRecipes() {\n      return _fetchRecipes.apply(this, arguments);\n    }\n    function _fetchRecipes() {\n      _fetchRecipes = _asyncToGenerator(function* () {\n        var recipesIds = yield GetRecipesIds(uid);\n        var recipeListTemp = [];\n        for (var i = 0; i < recipesIds.length; i++) {\n          try {\n            var recipe = yield fetch('https://api.spoonacular.com/recipes/' + recipesIds[i] + '/information?includeNutrition=false', {\n              method: 'GET',\n              headers: {\n                'Content-Type': 'application/json',\n                'x-api-key': '2b747b3902c148758955f81fcac5bb4f'\n              }\n            });\n            var data = yield recipe.json();\n            console.log(data);\n            var recipeObj = {\n              title: data['title'],\n              imgUrl: data['image'],\n              recipeUrl: data['sourceUrl']\n            };\n            recipeListTemp.push(recipeObj);\n          } catch (error) {\n            console.log(error);\n          }\n        }\n        setRecipeList(recipeListTemp);\n      });\n      return _fetchRecipes.apply(this, arguments);\n    }\n    fetchRecipes();\n    console.log('REFRESH');\n  }, []);\n  var RecipeView = function RecipeView(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      children: [_jsx(Text, {\n        children: item.title\n      }), _jsx(Image, {\n        source: {\n          uri: item.imgUrl\n        },\n        style: {\n          width: 200,\n          height: 200\n        }\n      }), _jsx(Text, {\n        style: {\n          color: 'blue'\n        },\n        onPress: function onPress() {\n          return Linking.openURL(item.recipeUrl);\n        },\n        children: \"Instructions\"\n      })]\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: recipeList,\n      renderItem: RecipeView,\n      keyExtractor: function keyExtractor(item) {\n        return item.title;\n      },\n      ListHeaderComponent: function ListHeaderComponent() {\n        return _jsx(View, {\n          style: {\n            height: 10\n          }\n        });\n      },\n      ListFooterComponent: function ListFooterComponent() {\n        return _jsx(View, {\n          style: {\n            height: 10\n          }\n        });\n      },\n      ItemSeparatorComponent: function ItemSeparatorComponent() {\n        return _jsx(View, {\n          style: {\n            height: 50\n          }\n        });\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0\n  },\n  item: {\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 32\n  }\n});\nexport { Home };","map":{"version":3,"names":["GetRecipesIds","React","useState","useEffect","Home","navigation","route","uid","params","recipeList","setRecipeList","fetchRecipes","recipesIds","recipeListTemp","i","length","recipe","fetch","method","headers","data","json","console","log","recipeObj","title","imgUrl","recipeUrl","push","error","RecipeView","item","uri","width","height","color","Linking","openURL","styles","container","StyleSheet","create","flex","marginTop","StatusBar","currentHeight","padding","marginVertical","marginHorizontal","fontSize"],"sources":["/Users/davidmutascio/Desktop/Senior/437/cse437project/Pages/Home/Home.js"],"sourcesContent":["import {Text, FlatList, SafeAreaView, View, Image, Linking, StyleSheet, StatusBar,} from 'react-native';\nimport GetRecipesIds from './GetRecipesIds';\nimport React, {useState, useEffect} from 'react';\n\nconst Home = ({navigation, route}) => {\n  const uid = route.params.uid;\n  const [recipeList, setRecipeList] = useState([]);\n\n  useEffect(() => {\n    async function fetchRecipes() {\n      const recipesIds = await GetRecipesIds(uid);\n      let recipeListTemp = []\n      for (let i = 0; i<recipesIds.length; i++){\n        try{\n          const recipe = await fetch('https://api.spoonacular.com/recipes/'+recipesIds[i]+'/information?includeNutrition=false', {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'x-api-key': '2b747b3902c148758955f81fcac5bb4f'\n            }\n            });\n            const data = await recipe.json();\n            console.log(data);\n            const recipeObj = {\n              title: data['title'],\n              imgUrl: data['image'],\n              recipeUrl: data['sourceUrl'],\n            };\n            recipeListTemp.push(recipeObj);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      setRecipeList(recipeListTemp);\n    }\n    fetchRecipes();\n    console.log('REFRESH');\n  }, []);\n\n\n  const RecipeView = ({item}) => (\n    <View>\n      <Text>{item.title}</Text>\n      {/*<Image source={{uri: item.imgUrl}} />*/}\n      <Image\n        source={{ uri: item.imgUrl }}\n        style={{ width: 200, height: 200 }}\n      />\n      <Text style={{color: 'blue'}}\n        onPress={() => Linking.openURL(item.recipeUrl)}>\n        Instructions\n      </Text>\n    </View>\n  );\n\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <FlatList\n        data={recipeList}\n        renderItem={RecipeView}\n        keyExtractor={(item) => item.title}\n        ListHeaderComponent={() => <View style={{ height: 10 }} />}\n        ListFooterComponent={() => <View style={{ height: 10 }} />}\n        ItemSeparatorComponent={() => <View style={{ height: 50 }} />}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0,\n  },\n  item: {\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n  },\n  title: {\n    fontSize: 32,\n  },\n});\n\nexport {Home};"],"mappings":"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"},"metadata":{},"sourceType":"module"}