{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { AddManually } from \"./PantryComponents/AddManually\";\nimport React, { useState, useEffect } from 'react';\nimport { db } from \"../../firebase\";\nimport { getAuth } from \"firebase/auth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Pantry = function Pantry(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isVisible = _useState2[0],\n    setFormVisibility = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pantryList = _useState4[0],\n    setPantryList = _useState4[1];\n  var auth = getAuth();\n  var user = auth.currentUser.uid;\n  var collectionString = \"users/\" + user + \"/pantry\";\n  var pantryRef = db.collection(collectionString).doc(\"pantry\");\n  var getPantryList = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var pantryObj = yield pantryRef.get();\n      var newPantryList = [];\n      for (var i = 0; i < Object.keys(pantryObj.data()).length; i++) {\n        var key = Object.keys(pantryObj.data())[i];\n        var val = Object.values(pantryObj.data())[i];\n        var newListEntry = [key, val];\n        newPantryList.push(newListEntry);\n      }\n      setPantryList(newPantryList);\n    });\n    return function getPantryList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getPantryList();\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(Button, {\n      title: \"Scan Receipt\",\n      onPress: openScanner\n    }), _jsx(Button, {\n      title: \"Add Items Manually\",\n      onPress: function onPress() {\n        return setFormVisibility(!isVisible);\n      }\n    }), isVisible ? _jsx(AddManually, {\n      updateFunction: getPantryList\n    }) : null, _jsx(Text, {\n      children: pantryList.map(function (item) {\n        return _jsxs(Text, {\n          children: [item[0], \": \", item[1], \" \", \"\\n\"]\n        }, item);\n      })\n    })]\n  });\n};\nvar openScanner = function openScanner() {\n  return Alert.alert('Scan Receipt', 'implement later', [{\n    text: 'Scan',\n    onPress: function onPress() {\n      return console.log('Scan Pressed');\n    },\n    style: 'cancel'\n  }, {\n    text: 'Cancel',\n    onPress: function onPress() {\n      return console.log('Cancel Pressed');\n    }\n  }]);\n};\nexport { Pantry };","map":{"version":3,"names":["AddManually","React","useState","useEffect","db","getAuth","Pantry","navigation","isVisible","setFormVisibility","pantryList","setPantryList","auth","user","currentUser","uid","collectionString","pantryRef","collection","doc","getPantryList","pantryObj","get","newPantryList","i","Object","keys","data","length","key","val","values","newListEntry","push","openScanner","map","item","Alert","alert","text","onPress","console","log","style"],"sources":["/Users/davidmutascio/Desktop/Senior/437/cse437project/Pages/Pantry/Pantry.js"],"sourcesContent":["import { StyleSheet, Text, View, Button, Alert, TextInput } from 'react-native';\nimport { AddManually } from './PantryComponents/AddManually';\nimport React, {useState, useEffect} from 'react';\nimport { db } from '../../firebase';\nimport { getAuth } from \"firebase/auth\";\n\nconst Pantry = ({navigation}) => {\n\n  const [isVisible, setFormVisibility] = useState(false);\n  const [pantryList, setPantryList] = useState([]);\n\n  \n\n  const auth = getAuth();\n  const user = auth.currentUser.uid;\n\n  let collectionString = \"users/\" + user + \"/pantry\";\n  let pantryRef = db.collection(collectionString).doc(\"pantry\");\n\n  //https://dev.to/gautemeekolsen/til-firestore-get-collection-with-async-await-a5l\n  const getPantryList = async() => {\n\n    let pantryObj = await pantryRef.get();\n    let newPantryList = [];\n\n      for(let i = 0; i < Object.keys(pantryObj.data()).length; i++){\n        let key = Object.keys(pantryObj.data())[i];\n        let val = Object.values(pantryObj.data())[i];\n        let newListEntry = [key, val];\n        newPantryList.push(newListEntry)\n      }\n    setPantryList(newPantryList);\n  }\n\n  useEffect(() => {\n    getPantryList()\n  }, []);\n\n    return (\n      <View>\n        <Button\n          title=\"Scan Receipt\"\n          onPress={openScanner}\n        />\n        <Button\n          title=\"Add Items Manually\"\n          onPress={() => setFormVisibility(!isVisible)}\n        />\n        {isVisible ? <AddManually updateFunction={getPantryList}></AddManually>: null}\n        <Text>\n          {pantryList.map((item) => (\n            <Text key={item}>{item[0]}: {item[1]} {\"\\n\"}</Text>\n          ))}\n        </Text>\n      </View>\n\n    );\n};\n\nconst openScanner = () =>\n    Alert.alert('Scan Receipt', 'implement later', [\n      {\n        text: 'Scan',\n        onPress: () => console.log('Scan Pressed'),\n        style: 'cancel',\n      },\n      {text: 'Cancel', onPress: () => console.log('Cancel Pressed')},\n    ]);\n\n\n\nexport {Pantry};"],"mappings":"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"},"metadata":{},"sourceType":"module"}